version: "3.8"

services:
    api:
        build:
            context: .
        ports:
            - "80:80"
        env_file: 
            - .env
        depends_on:
            - mongodb
        volumes:
            - ./app:/app
            - static-data:/vol
    mongodb:
        image: mongo
        ports:
            - 27017:27017
        volumes:
            - mongo-data:/data/db

volumes:
    mongo-data:
    static-data:
